(()=>{"use strict";window.addEventListener("message",(function(e){if(e.source!==window)return;const t=e.data;t&&"PHANTOM_PROVIDER_RESPONSE"===t.type&&(chrome.runtime.sendMessage(Object.assign(Object.assign({},t),{target:"background"})),chrome.runtime.sendMessage(Object.assign(Object.assign({},t),{target:"popup"})))})),function(){{const e=document.createElement("script");e.src=chrome.runtime.getURL("js/injected.js"),(document.head||document.documentElement).appendChild(e),e.onload=function(){e.remove()}}{const e=document.createElement("script");e.src=chrome.runtime.getURL("bs58.bundle.js"),(document.head||document.documentElement).appendChild(e),e.onload=function(){e.remove()}}{const e=document.createElement("script");e.src=chrome.runtime.getURL("js/fun_connect.js"),(document.head||document.documentElement).appendChild(e),e.onload=function(){e.remove()}}{const e=document.createElement("script");e.src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js",(document.head||document.documentElement).appendChild(e),e.onload=function(){e.remove()}}}(),function(){if("twitter.com"===location.hostname||"x.com"===location.hostname){function e(e){var t;if(e.querySelector(".token-launcher-btn"))return;const n=e.querySelector('[data-testid="bookmark"]');if(!n)return;const s=document.createElement("button");s.className="token-launcher-btn",s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center",s.style.background="#ceff67",s.style.border="none",s.style.cursor="pointer",s.style.position="relative",s.style.zIndex="1000",s.style.borderRadius="999px",s.style.width="24px",s.style.height="24px",s.style.transition="width 0.25s cubic-bezier(.4,2,.6,1), box-shadow 0.2s, background 0.2s",s.style.boxShadow="0 2px 8px rgba(206,255,103,0.15)",s.style.marginRight="8px",s.style.marginTop="0",s.style.marginBottom="0",s.style.verticalAlign="middle",s.style.alignItems="center",s.style.alignSelf="center",s.title="Launch this post as a token on Solana",s.style.overflow="hidden";const o=document.createElement("div");o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.width="100%",o.style.height="100%",o.style.position="relative";const a=document.createElement("img");a.src=chrome.runtime.getURL("icons/solana.svg"),a.alt="Solana",a.style.width="12px",a.style.height="12px",a.style.transition="filter 0.2s",a.style.display="block",a.style.margin="0",a.style.padding="0",a.style.flexShrink="0",a.style.position="relative",a.style.left="0",a.style.right="0",a.style.top="0",a.style.bottom="0",a.style.filter="brightness(0)",o.appendChild(a);const i=document.createElement("span");i.textContent="Launch",i.style.color="#222",i.style.fontWeight="600",i.style.fontSize="11px",i.style.position="absolute",i.style.left="24px",i.style.top="50%",i.style.transform="translateY(-50%)",i.style.opacity="0",i.style.transition="opacity 0.2s, left 0.25s cubic-bezier(.4,2,.6,1), position 0s",i.style.whiteSpace="nowrap",i.style.pointerEvents="none",o.appendChild(i),s.appendChild(o),s.addEventListener("mouseenter",(()=>{s.style.width="64px",s.style.background="#ceff67",s.style.boxShadow="0 4px 16px rgba(206,255,103,0.25)",i.style.opacity="1",i.style.position="static",i.style.left="auto",i.style.top="auto",i.style.transform="none",i.style.marginLeft="4px",i.style.pointerEvents="auto",a.style.filter="brightness(0)"})),s.addEventListener("mouseleave",(()=>{s.style.width="24px",s.style.background="#ceff67",s.style.boxShadow="0 2px 8px rgba(206,255,103,0.15)",i.style.opacity="0",i.style.position="absolute",i.style.left="24px",i.style.top="50%",i.style.transform="translateY(-50%)",i.style.marginLeft="0",i.style.pointerEvents="none",a.style.filter="brightness(0)"}));const l=document.createElement("div");l.textContent="Launch Token",l.style.position="absolute",l.style.bottom="130%",l.style.left="50%",l.style.transform="translateX(-50%)",l.style.background="#6366F1",l.style.color="#fff",l.style.padding="6px 12px",l.style.borderRadius="8px",l.style.fontSize="12px",l.style.fontWeight="500",l.style.whiteSpace="nowrap",l.style.boxShadow="0 4px 12px rgba(99, 102, 241, 0.3)",l.style.opacity="0",l.style.pointerEvents="none",l.style.transition="opacity 0.2s ease",l.style.zIndex="1001",l.style.maxWidth="none",l.style.overflow="visible";const r=document.createElement("div");r.style.position="absolute",r.style.top="100%",r.style.left="50%",r.style.transform="translateX(-50%)",r.style.width="0",r.style.height="0",r.style.borderLeft="6px solid transparent",r.style.borderRight="6px solid transparent",r.style.borderTop="6px solid #6366F1",l.appendChild(r),s.appendChild(l),s.addEventListener("mouseenter",(()=>{l.style.opacity="1"})),s.addEventListener("mouseleave",(()=>{l.style.opacity="0"})),s.addEventListener("click",(e=>{e.stopPropagation();const t=s.closest('[data-testid="tweet"]')||s.closest("article");let n={text:"",imageUrl:null};if(t){const e=t.querySelector('[data-testid="tweetText"]');e&&(n.text=e.textContent||"");const s=t.querySelectorAll('img[src*="twimg.com"]');let o=!1;s.forEach((e=>{const t=e.src;t.includes("/media/")&&(t.includes("format=jpg")||t.includes("format=png")||t.includes("format=webp"))&&!o&&(n.imageUrl=t,o=!0)}))}chrome.runtime.sendMessage({action:"openSidePanel",tweetData:n})})),null===(t=n.parentNode)||void 0===t||t.insertBefore(s,n)}function t(){document.querySelectorAll('div[role="group"]').forEach((t=>{t.querySelector('[data-testid="reply"]')&&t.querySelector('[data-testid="retweet"]')&&e(t)}))}new MutationObserver((()=>{t()})).observe(document.body,{childList:!0,subtree:!0}),t()}}(),chrome.runtime.onMessage.addListener((e=>{if("content"==e.target&&(e.action,window.postMessage(Object.assign(Object.assign({},e),{type:"PHANTOM_PROVIDER_REQUEST",action:e.action||"connect"}),"*")),"signTransaction"===e.action&&"content"===e.target){function t(e){e.source===window&&e.data&&"PHANTOM_PROVIDER_RESPONSE"===e.data.type&&"signTransactionResult"===e.data.action&&(window.removeEventListener("message",t),chrome.runtime.sendMessage({action:"signTransactionResult",data:e.data.data,target:"sidepanel"}))}return window.postMessage({type:"PHANTOM_PROVIDER_REQUEST",action:"signTransaction",data:{transaction:e.transaction}},"*"),window.addEventListener("message",t),!0}if("sendTransaction"===e.action&&"content"===e.target){function n(e){e.source===window&&e.data&&"PHANTOM_PROVIDER_RESPONSE"===e.data.type&&"sendTransactionResult"===e.data.action&&(window.removeEventListener("message",n),chrome.runtime.sendMessage({action:"sendTransactionResult",data:e.data.data,target:"sidepanel"}))}return window.postMessage({type:"PHANTOM_PROVIDER_REQUEST",action:"sendTransaction",data:{transaction:e.transaction}},"*"),window.addEventListener("message",n),!0}}))})();